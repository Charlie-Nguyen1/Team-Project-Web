services:
  - type: web
    name: dental-app
    runtime: node
    region: us-east
    plan: free
    
    # Build command
    buildCommand: >
      cd Dental_App/mern_skeleton &&
      npm run install-all &&
      npm run build
    
    # Start command
    startCommand: >
      cd Dental_App/mern_skeleton &&
      npm start
    
    # Environment variables
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 5000
      - key: MONGODB_URI
        value: mongodb+srv://thanhnguyendata68_db_user:asKvpxP9GRku3SuA@cluster0.dt4qs5b.mongodb.net/dentalapp?appName=Cluster0
      - key: JWT_SECRET
        generateValue: true  # Render will auto-generate a secure secret
    
    # Health check
    healthCheckPath: /
    
    # Root directory
    rootDir: Dental_App/mern_skeleton
